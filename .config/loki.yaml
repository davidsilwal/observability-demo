auth_enabled: false

limits_config:
  allow_structured_metadata: true
  volume_enabled: true
  max_query_lookback: 672h # 28 days
  retention_period: 672h   # 28 days

server:
  http_listen_port: 3100
  ring:
   zone_awareness_enabled: false

common:
  path_prefix: /tmp/loki

ingester:
  chunk_idle_period: 3m
  chunk_block_size: 262144
  chunk_retain_period: 1m
  lifecycler:
    ring:
      kvstore:
        store: inmemory
      replication_factor: 1



schema_config:
  configs:
    - from: "2024-05-13"
      store: tsdb 
      object_store: s3
      schema: v13
      index:
        prefix: loki_index_
        period: 24h

storage_config:
  aws:
      bucketnames: loki-chunks
      endpoint: minio:9000
      access_key_id: "CglZaOvJutYBwRJ72GJc"
      secret_access_key: "AAIqGaTs6Ro0TsLFJVCJN2fRhWK0m2UQ6lTFXuVI"
      s3forcepathstyle: true
      insecure: true

  boltdb_shipper:
    active_index_directory: /loki/index
    cache_location: /loki/boltdb-cache

